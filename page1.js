!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/metalamp/",n(n.s=251)}({1:function(e,t,n){"use strict";var r,o=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function c(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function s(e,t){for(var n={},r=[],o=0;o<e.length;o++){var i=e[o],s=t.base?i[0]+t.base:i[0],u=n[s]||0,l="".concat(s," ").concat(u);n[s]=u+1;var f=c(l),d={css:i[1],media:i[2],sourceMap:i[3]};-1!==f?(a[f].references++,a[f].updater(d)):a.push({identifier:l,updater:y(d,t),references:1}),r.push(l)}return r}function u(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var a=i(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var l,f=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join("\n")});function d(e,t,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=f(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function m(e,t,n){var r=n.css,o=n.media,i=n.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var p=null,v=0;function y(e,t){var n,r,o;if(t.singleton){var i=v++;n=p||(p=u(t)),r=d.bind(null,n,i,!1),o=d.bind(null,n,i,!0)}else n=u(t),r=m.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=o());var n=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var o=c(n[r]);a[o].references--}for(var i=s(e,t),u=0;u<n.length;u++){var l=c(n[u]);0===a[l].references&&(a[l].updater(),a.splice(l,1))}n=i}}}},139:function(e,t,n){"use strict";n(140);var r=n(2);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.listName=n,this.bindPopup(t,n),this.bindIncrement(),this.limit=r}var t,n,a;return t=e,(n=[{key:"bindPopup",value:function(e,t){"string"==typeof e?this.element=document.querySelector(e):"object"===o(e)&&(this.element=e),this.list=this.element.querySelector(this.listName),this.input=this.element.getElementsByClassName("dropdown-accom input")[0],Object(r.a)(e,t);var n=this.element.querySelector(".dropdown-accom__submit");this.submit=n;var i=this.element.querySelector(".dropdown-accom__clear");this.clear=i}},{key:"bindIncrement",value:function(){var e=this,t=Array.from(this.element.querySelectorAll("".concat(this.listName," li")));this.count=new Map;var n=function(t){var n=t.target.closest("li").getElementsByClassName("dropdown-accom__variant")[0].textContent.toLowerCase(),r=e.count.get(n),o=Number(r.get("value"));e.restrictDecrement(n,o+1),e.count.get(n).set("value",o+1),e.refresh(n)},r=function(t){var n=t.target.closest("li").getElementsByClassName("dropdown-accom__variant")[0].textContent.toLowerCase(),r=e.count.get(n),o=Number(r.get("value"));e.restrictDecrement(n,o-1),e.count.get(n).set("value",o-1),e.refresh(n)};t.forEach((function(t){var o=t.getElementsByClassName("dropdown-accom__span")[0],i=t.getElementsByClassName("dropdown-accom__button--next")[0],a=t.getElementsByClassName("dropdown-accom__button--prev")[0],c=t.getElementsByClassName("dropdown-accom__variant")[0],s=new Map;s.set("increment",i),s.set("decrement",a),s.set("value",Number(o.textContent)),s.set("textElement",o),e.count.set(c.textContent.toLowerCase(),s),i.addEventListener("click",n),a.addEventListener("click",r)})),this.submit&&this.count&&(this.submit.addEventListener("click",(function(){e.input.setAttribute("placeholder",e.total)})),this.count.set("total",0)),this.count&&this.clear&&this.clear.addEventListener("click",(function(){e.returnToDefault(),e.refresh(),e.input.setAttribute("placeholder",e.total)}))}},{key:"returnToDefault",value:function(){var e=this;Array.from(this.count.keys()).forEach((function(t){if("total"===t)return!1;e.count.get(t).set("value",2)}))}},{key:"refresh",value:function(e){var t=this;if(void 0===e){var n=Array.from(this.count.keys());return n=n.filter((function(e){return"total"!==e})),console.log(n),void n.forEach((function(e){if("total"===e)return!1;t.refresh(e)}))}var r=this.count.get(e).get("value");if(this.restrictDecrement(e,r),this.count.get(e).get("textElement").textContent=String(r),this.submit){var o=this.countTottal();this.total=o}}},{key:"countTottal",value:function(){var e=this,t=0;return Array.from(this.count.keys()).forEach((function(n){if("total"===n)return!1;t+=Number(e.count.get(n).get("value"))})),t}},{key:"restrictDecrement",value:function(e,t){var n=this.count.get(e).get("decrement");if(t===this.limit)return n.disabled=!0,!1;n.disabled=!1}}])&&i(t.prototype,n),a&&i(t,a),e}();document.addEventListener("DOMContentLoaded",(function(e){Array.from(document.getElementsByClassName("dropdown-accom__big")).forEach((function(e){new a(e,".dropdown-accom__ul",0)}))}))},140:function(e,t,n){var r=n(1),o=n(141);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1};r(o,i);e.exports=o.locals||{}},141:function(e,t,n){},183:function(e,t,n){"use strict";n(184),n(139)},184:function(e,t,n){var r=n(1),o=n(185);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1};r(o,i);e.exports=o.locals||{}},185:function(e,t,n){},2:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",(function(){return i}));var o=function(e){return!!e&&!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},i=function(e,t){var n,i;"string"==typeof e?n=document.querySelector(e):"object"===r(e)&&(n=e),i=n.querySelector(t);var a=function(e){n.contains(e.target)||n.parentNode.contains(e.target)||(i.style.display="none")};n.addEventListener("click",(function(e){var t=i.contains(e.target);o(i)?o(i)&&!t&&(i.style.display="none",document.removeEventListener("click",a)):(i.style.display="block",document.addEventListener("click",a))}))}},251:function(e,t,n){"use strict";n.r(t);n(183),n(252)},252:function(e,t,n){var r=n(1),o=n(253);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1};r(o,i);e.exports=o.locals||{}},253:function(e,t,n){}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovLy8uL3NyYy9wdWcvaW5jbHVkZXMvbW9kdWxlcy9kcm9wZG93bi1hY2NvbS9kcm9wZG93bi1hY2NvbS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcHVnL2luY2x1ZGVzL21vZHVsZXMvZHJvcGRvd24tYWNjb20vZHJvcGRvd24tYWNjb20uc2Nzcz80NjY5Iiwid2VicGFjazovLy8uL3NyYy9wdWcvaW5jbHVkZXMvbW9kdWxlcy9yb29tcy1mb3IteW91L3Jvb21zLWZvci15b3UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3B1Zy9pbmNsdWRlcy9tb2R1bGVzL3Jvb21zLWZvci15b3Uvcm9vbXMtZm9yLXlvdS5zY3NzP2M0ZGUiLCJ3ZWJwYWNrOi8vLy4vc3JjL3B1Zy91dGlscy91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcHVnL3BhZ2VzL3BhZ2UxL3BhZ2UxLmpzIiwid2VicGFjazovLy8uL3NyYy9wdWcvcGFnZXMvcGFnZTEvcGFnZTEuc2Nzcz8yZDQ3Il0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwibWVtbyIsImlzT2xkSUUiLCJCb29sZWFuIiwid2luZG93IiwiZG9jdW1lbnQiLCJhbGwiLCJhdG9iIiwiZ2V0VGFyZ2V0IiwidGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJxdWVyeVNlbGVjdG9yIiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsInN0eWxlc0luRG9tIiwiZ2V0SW5kZXhCeUlkZW50aWZpZXIiLCJpZGVudGlmaWVyIiwicmVzdWx0IiwibGVuZ3RoIiwibW9kdWxlc1RvRG9tIiwibGlzdCIsIm9wdGlvbnMiLCJpZENvdW50TWFwIiwiaWRlbnRpZmllcnMiLCJpdGVtIiwiaWQiLCJiYXNlIiwiY291bnQiLCJjb25jYXQiLCJpbmRleCIsIm9iaiIsImNzcyIsIm1lZGlhIiwic291cmNlTWFwIiwicmVmZXJlbmNlcyIsInVwZGF0ZXIiLCJwdXNoIiwiYWRkU3R5bGUiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZSIsImNyZWF0ZUVsZW1lbnQiLCJhdHRyaWJ1dGVzIiwibm9uY2UiLCJrZXlzIiwiZm9yRWFjaCIsInNldEF0dHJpYnV0ZSIsImluc2VydCIsIkVycm9yIiwiYXBwZW5kQ2hpbGQiLCJ0ZXh0U3RvcmUiLCJyZXBsYWNlVGV4dCIsInJlcGxhY2VtZW50IiwiZmlsdGVyIiwiam9pbiIsImFwcGx5VG9TaW5nbGV0b25UYWciLCJyZW1vdmUiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImNzc05vZGUiLCJjcmVhdGVUZXh0Tm9kZSIsImNoaWxkTm9kZXMiLCJyZW1vdmVDaGlsZCIsImluc2VydEJlZm9yZSIsImFwcGx5VG9UYWciLCJyZW1vdmVBdHRyaWJ1dGUiLCJidG9hIiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJKU09OIiwic3RyaW5naWZ5IiwiZmlyc3RDaGlsZCIsInNpbmdsZXRvbiIsInNpbmdsZXRvbkNvdW50ZXIiLCJ1cGRhdGUiLCJzdHlsZUluZGV4IiwicGFyZW50Tm9kZSIsInJlbW92ZVN0eWxlRWxlbWVudCIsIm5ld09iaiIsImxhc3RJZGVudGlmaWVycyIsIm5ld0xpc3QiLCJ0b1N0cmluZyIsIm5ld0xhc3RJZGVudGlmaWVycyIsIl9pIiwiX2luZGV4Iiwic3BsaWNlIiwiRHJvcGRvd25BY2NvbSIsImVsZW1lbnQiLCJsaW1pdCIsInRoaXMiLCJsaXN0TmFtZSIsImJpbmRQb3B1cCIsImJpbmRJbmNyZW1lbnQiLCJlbGVtZW50TmFtZSIsImlucHV0IiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsIkJpbmRPdXRzaWRlQ2xpY2tEZXRlY3Rpb24iLCJzdWJtaXRCdXR0b24iLCJzdWJtaXQiLCJjbGVhckJ1dHRvbiIsImNsZWFyIiwibGlzdENoaWRscmVuIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsIk1hcCIsIkhhbmRsZUluY3JlbWVudENsaWNrIiwiY2F0ZWdvcnkiLCJjbG9zZXN0IiwidGV4dENvbnRlbnQiLCJ0b0xvd2VyQ2FzZSIsInN0b3JhZ2UiLCJOdW1iZXIiLCJyZXN0cmljdERlY3JlbWVudCIsInNldCIsInJlZnJlc2giLCJIYW5kbGVEZWNyZW1lbnRDbGljayIsImNoaWxkIiwidGV4dEVsZW1lbnQiLCJpbmNyZW1lbnQiLCJkZWNyZW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwidG90YWwiLCJyZXR1cm5Ub0RlZmF1bHQiLCJ1bmRlZmluZWQiLCJjYXRlZ29yaWVzIiwiY29uc29sZSIsImxvZyIsIlN0cmluZyIsImNvdW50VG90dGFsIiwiZGlzYWJsZWQiLCJhcGkiLCJjb250ZW50IiwiZGVmYXVsdCIsImxvY2FscyIsImlzVmlzaWJsZSIsImVsZW0iLCJvZmZzZXRXaWR0aCIsIm9mZnNldEhlaWdodCIsImdldENsaWVudFJlY3RzIiwiY2xpY2tFbGVtZW50TmFtZSIsInBvcEVsZW1lbnROYW1lIiwiY2xpY2tFbGVtZW50IiwicG9wRWxlbWVudCIsImNhdCIsImNvbnRhaW5zIiwiZGlzcGxheSIsImtpZHNIYXZlVGFyZ2V0IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciJdLCJt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Q3JDLElBQU1xSSxFQUFlSixFQUFXRSxTQUFTbkksRUFBRU4sUUFDdEMrSCxFQUFVUSxHQUlKUixFQUFVUSxLQUFnQkksSUFDbkNKLEVBQVd2RyxNQUFNMEcsUUFBUSxPQUN6QjlJLFNBQVNnSixvQkFBb0IsUUFBUUosS0FMckNELEVBQVd2RyxNQUFNMEcsUUFBUSxRQUN6QjlJLFNBQVNxSCxpQkFBaUIsUUFBUXVCLFMsaUNDeEJ4QyxzQixvQkNBQSxJQUFJYixFQUFNLEVBQVEsR0FDRkMsRUFBVSxFQUFRLEtBSUMsaUJBRnZCQSxFQUFVQSxFQUFRaEosV0FBYWdKLEVBQVFDLFFBQVVELEtBRy9DQSxFQUFVLENBQUMsQ0FBQ3JLLEVBQU9DLEVBQUlvSyxFQUFTLE1BRzlDLElBQUk5RyxFQUFVLENBRWQsT0FBaUIsT0FDakIsV0FBb0IsR0FFUDZHLEVBQUlDLEVBQVM5RyxHQUkxQnZELEVBQU9ELFFBQVVzSyxFQUFRRSxRQUFVLEkiLCJmaWxlIjoicGFnZTEuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9tZXRhbGFtcC9cIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDI1MSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIGlzT2xkSUUgPSBmdW5jdGlvbiBpc09sZElFKCkge1xuICB2YXIgbWVtbztcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKCkge1xuICAgIGlmICh0eXBlb2YgbWVtbyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG4gICAgICAvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG4gICAgICAvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG4gICAgICAvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcbiAgICAgIC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuICAgICAgbWVtbyA9IEJvb2xlYW4od2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2IpO1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vO1xuICB9O1xufSgpO1xuXG52YXIgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gZ2V0VGFyZ2V0KCkge1xuICB2YXIgbWVtbyA9IHt9O1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUodGFyZ2V0KSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7IC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cbiAgICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vW3RhcmdldF07XG4gIH07XG59KCk7XG5cbnZhciBzdHlsZXNJbkRvbSA9IFtdO1xuXG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRG9tLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRG9tW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM11cbiAgICB9O1xuXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlc0luRG9tLnB1c2goe1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiBhZGRTdHlsZShvYmosIG9wdGlvbnMpLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xuICB9XG5cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICB2YXIgYXR0cmlidXRlcyA9IG9wdGlvbnMuYXR0cmlidXRlcyB8fCB7fTtcblxuICBpZiAodHlwZW9mIGF0dHJpYnV0ZXMubm9uY2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSAndW5kZWZpbmVkJyA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcblxuICAgIGlmIChub25jZSkge1xuICAgICAgYXR0cmlidXRlcy5ub25jZSA9IG5vbmNlO1xuICAgIH1cbiAgfVxuXG4gIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZShrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG4gIH0pO1xuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvcHRpb25zLmluc2VydChzdHlsZSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHRhcmdldCA9IGdldFRhcmdldChvcHRpb25zLmluc2VydCB8fCAnaGVhZCcpO1xuXG4gICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gICAgfVxuXG4gICAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgfVxuXG4gIHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxudmFyIHJlcGxhY2VUZXh0ID0gZnVuY3Rpb24gcmVwbGFjZVRleHQoKSB7XG4gIHZhciB0ZXh0U3RvcmUgPSBbXTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHJlcGxhY2UoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG4gICAgdGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuICAgIHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuICB9O1xufSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcbiAgdmFyIGNzcyA9IHJlbW92ZSA/ICcnIDogb2JqLm1lZGlhID8gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKS5jb25jYXQob2JqLmNzcywgXCJ9XCIpIDogb2JqLmNzczsgLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcbiAgICB2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cbiAgICBpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9XG5cbiAgICBpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgIHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnKHN0eWxlLCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IG9iai5jc3M7XG4gIHZhciBtZWRpYSA9IG9iai5tZWRpYTtcbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cbiAgaWYgKG1lZGlhKSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKCdtZWRpYScsIG1lZGlhKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZS5yZW1vdmVBdHRyaWJ1dGUoJ21lZGlhJyk7XG4gIH1cblxuICBpZiAoc291cmNlTWFwICYmIHR5cGVvZiBidG9hICE9PSAndW5kZWZpbmVkJykge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGUuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXIgc2luZ2xldG9uQ291bnRlciA9IDA7XG5cbmZ1bmN0aW9uIGFkZFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgc3R5bGU7XG4gIHZhciB1cGRhdGU7XG4gIHZhciByZW1vdmU7XG5cbiAgaWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG4gICAgdmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG4gICAgc3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG4gICAgcmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZSA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXG4gICAgcmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcbiAgICB9O1xuICB9XG5cbiAgdXBkYXRlKG9iaik7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZShuZXdPYmopIHtcbiAgICBpZiAobmV3T2JqKSB7XG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbW92ZSgpO1xuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsgLy8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG4gIC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2VcblxuICBpZiAoIW9wdGlvbnMuc2luZ2xldG9uICYmIHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG4gIH1cblxuICBsaXN0ID0gbGlzdCB8fCBbXTtcbiAgdmFyIGxhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XG4gICAgbmV3TGlzdCA9IG5ld0xpc3QgfHwgW107XG5cbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5ld0xpc3QpICE9PSAnW29iamVjdCBBcnJheV0nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW2ldO1xuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcy0tO1xuICAgIH1cblxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcblxuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcblxuICAgICAgaWYgKHN0eWxlc0luRG9tW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRvbVtfaW5kZXhdLnVwZGF0ZXIoKTtcblxuICAgICAgICBzdHlsZXNJbkRvbS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XG4gIH07XG59OyIsImltcG9ydCAnLi9kcm9wZG93bi1hY2NvbS5zY3NzJ1xyXG5pbXBvcnQge0JpbmRPdXRzaWRlQ2xpY2tEZXRlY3Rpb259IGZyb20gJy4uLy4uLy4uL3V0aWxzL3V0aWxzJ1xyXG5jbGFzcyBEcm9wZG93bkFjY29te1xyXG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQsbGlzdCxsaW1pdCl7XHJcbiAgICB0aGlzLmxpc3ROYW1lPWxpc3RcclxuICAgIHRoaXMuYmluZFBvcHVwKGVsZW1lbnQsbGlzdClcclxuICAgIHRoaXMuYmluZEluY3JlbWVudCgpXHJcbiAgICB0aGlzLmxpbWl0PWxpbWl0XHJcbiAgfVxyXG4gIGJpbmRQb3B1cChlbGVtZW50TmFtZSxsaXN0TmFtZSkge1xyXG4gICAgaWYgKHR5cGVvZiBlbGVtZW50TmFtZT09PSdzdHJpbmcnICkge1xyXG4gICAgICB0aGlzLmVsZW1lbnQ9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbGVtZW50TmFtZSlcclxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGVsZW1lbnROYW1lPT09J29iamVjdCcpIHtcclxuICAgICAgdGhpcy5lbGVtZW50PWVsZW1lbnROYW1lXHJcbiAgICB9XHJcbiAgICB0aGlzLmxpc3Q9dGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5saXN0TmFtZSlcclxuICAgIHRoaXMuaW5wdXQ9dGhpcy5lbGVtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2Ryb3Bkb3duLWFjY29tIGlucHV0JylbMF1cclxuXHJcbiAgICBCaW5kT3V0c2lkZUNsaWNrRGV0ZWN0aW9uKGVsZW1lbnROYW1lLGxpc3ROYW1lKVxyXG4gICAgY29uc3Qgc3VibWl0QnV0dG9uPXRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZHJvcGRvd24tYWNjb21fX3N1Ym1pdCcpXHJcbiAgICB0aGlzLnN1Ym1pdD1zdWJtaXRCdXR0b25cclxuICAgIGNvbnN0IGNsZWFyQnV0dG9uPXRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZHJvcGRvd24tYWNjb21fX2NsZWFyJylcclxuICAgIHRoaXMuY2xlYXI9Y2xlYXJCdXR0b25cclxuXHJcbiAgfVxyXG4gIGJpbmRJbmNyZW1lbnQoKSB7XHJcbiAgICBjb25zdCBsaXN0Q2hpZGxyZW49QXJyYXkuZnJvbSh0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChgJHt0aGlzLmxpc3ROYW1lfSBsaWApKVxyXG4gICAgdGhpcy5jb3VudD1uZXcgTWFwKClcclxuICAgIGNvbnN0IEhhbmRsZUluY3JlbWVudENsaWNrPShlKT0+e1xyXG4gICAgICBjb25zdCB0YXJnZXQ9ZS50YXJnZXRcclxuICAgICAgY29uc3QgbGk9dGFyZ2V0LmNsb3Nlc3QoJ2xpJylcclxuICAgICAgY29uc3QgY2F0ZWdvcnk9bGkuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZHJvcGRvd24tYWNjb21fX3ZhcmlhbnQnKVswXS50ZXh0Q29udGVudC50b0xvd2VyQ2FzZSgpXHJcbiAgICAgIGNvbnN0IHN0b3JhZ2U9dGhpcy5jb3VudC5nZXQoY2F0ZWdvcnkpXHJcbiAgICAgIGNvbnN0IHZhbHVlPU51bWJlcihzdG9yYWdlLmdldCgndmFsdWUnKSlcclxuICAgICAgdGhpcy5yZXN0cmljdERlY3JlbWVudChjYXRlZ29yeSx2YWx1ZSsxKVxyXG4gICAgICB0aGlzLmNvdW50LmdldChjYXRlZ29yeSkuc2V0KCd2YWx1ZScsdmFsdWUrMSApXHJcbiAgICAgIHRoaXMucmVmcmVzaChjYXRlZ29yeSlcclxuICAgIH1cclxuICAgIGNvbnN0IEhhbmRsZURlY3JlbWVudENsaWNrPShlKT0+e1xyXG4gICAgICBjb25zdCB0YXJnZXQ9ZS50YXJnZXRcclxuICAgICAgY29uc3QgbGk9dGFyZ2V0LmNsb3Nlc3QoJ2xpJylcclxuICAgICAgY29uc3QgY2F0ZWdvcnk9bGkuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZHJvcGRvd24tYWNjb21fX3ZhcmlhbnQnKVswXS50ZXh0Q29udGVudC50b0xvd2VyQ2FzZSgpXHJcbiAgICAgIGNvbnN0IHN0b3JhZ2U9dGhpcy5jb3VudC5nZXQoY2F0ZWdvcnkpXHJcbiAgICAgIGNvbnN0IHZhbHVlPU51bWJlcihzdG9yYWdlLmdldCgndmFsdWUnKSlcclxuICAgICAgdGhpcy5yZXN0cmljdERlY3JlbWVudChjYXRlZ29yeSx2YWx1ZS0xKVxyXG4gICAgICB0aGlzLmNvdW50LmdldChjYXRlZ29yeSkuc2V0KCd2YWx1ZScsIHZhbHVlLTEpXHJcbiAgICAgIHRoaXMucmVmcmVzaChjYXRlZ29yeSlcclxuICAgIH1cclxuICAgIGxpc3RDaGlkbHJlbi5mb3JFYWNoKChjaGlsZCk9PntcclxuICAgICAgY29uc3QgdGV4dEVsZW1lbnQ9Y2hpbGQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZHJvcGRvd24tYWNjb21fX3NwYW4nKVswXVxyXG4gICAgICBjb25zdCBpbmNyZW1lbnQ9Y2hpbGQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZHJvcGRvd24tYWNjb21fX2J1dHRvbi0tbmV4dCcpWzBdXHJcbiAgICAgIGNvbnN0IGRlY3JlbWVudD1jaGlsZC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdkcm9wZG93bi1hY2NvbV9fYnV0dG9uLS1wcmV2JylbMF1cclxuICAgICAgY29uc3QgY2F0ZWdvcnk9Y2hpbGQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZHJvcGRvd24tYWNjb21fX3ZhcmlhbnQnKVswXVxyXG4gICAgICBjb25zdCBzdG9yYWdlPW5ldyBNYXAoKVxyXG4gICAgICBzdG9yYWdlLnNldCgnaW5jcmVtZW50JyxpbmNyZW1lbnQpXHJcbiAgICAgIHN0b3JhZ2Uuc2V0KCdkZWNyZW1lbnQnLGRlY3JlbWVudClcclxuICAgICAgc3RvcmFnZS5zZXQoJ3ZhbHVlJyxOdW1iZXIodGV4dEVsZW1lbnQudGV4dENvbnRlbnQpKVxyXG4gICAgICBzdG9yYWdlLnNldCgndGV4dEVsZW1lbnQnLHRleHRFbGVtZW50KVxyXG4gICAgICB0aGlzLmNvdW50LnNldChjYXRlZ29yeS50ZXh0Q29udGVudC50b0xvd2VyQ2FzZSgpLHN0b3JhZ2UpXHJcbiAgICAgIGluY3JlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsSGFuZGxlSW5jcmVtZW50Q2xpY2spXHJcbiAgICAgIGRlY3JlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsSGFuZGxlRGVjcmVtZW50Q2xpY2spXHJcbiAgICB9KVxyXG4gICAgY29uc3Qgb25TdWJtaXQ9KCk9PntcclxuICAgICAgdGhpcy5pbnB1dC5zZXRBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJyx0aGlzLnRvdGFsKVxyXG4gICAgfVxyXG4gICAgY29uc3Qgb25DbGVhcj0oKT0+e1xyXG4gICAgICB0aGlzLnJldHVyblRvRGVmYXVsdCgpXHJcbiAgICAgIHRoaXMucmVmcmVzaCgpXHJcbiAgICAgIHRoaXMuaW5wdXQuc2V0QXR0cmlidXRlKCdwbGFjZWhvbGRlcicsdGhpcy50b3RhbClcclxuICAgIH1cclxuICAgIGlmICh0aGlzLnN1Ym1pdCAmJiB0aGlzLmNvdW50KSB7XHJcbiAgICAgIHRoaXMuc3VibWl0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxvblN1Ym1pdClcclxuICAgICAgdGhpcy5jb3VudC5zZXQoJ3RvdGFsJywwKVxyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuY291bnQmJiB0aGlzLmNsZWFyKSB7XHJcbiAgICAgIHRoaXMuY2xlYXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLG9uQ2xlYXIpXHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVyblRvRGVmYXVsdCgpe1xyXG4gICAgQXJyYXkuZnJvbSh0aGlzLmNvdW50LmtleXMoKSkuZm9yRWFjaCgoaXRlbSk9PntcclxuICAgICAgaWYgKGl0ZW09PT0ndG90YWwnKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5jb3VudC5nZXQoaXRlbSkuc2V0KCd2YWx1ZScsMilcclxuICAgIH0pXHJcbiAgfVxyXG4gIHJlZnJlc2goY2F0ZWdvcnkpe1xyXG4gICAgaWYgKGNhdGVnb3J5PT09dW5kZWZpbmVkKSB7XHJcbiAgICAgIGxldCBjYXRlZ29yaWVzPUFycmF5LmZyb20odGhpcy5jb3VudC5rZXlzKCkpXHJcbiAgICAgIGNhdGVnb3JpZXM9Y2F0ZWdvcmllcy5maWx0ZXIoKGl0ZW0pPT5pdGVtIT09J3RvdGFsJylcclxuICAgICAgY29uc29sZS5sb2coY2F0ZWdvcmllcylcclxuICAgICAgY2F0ZWdvcmllcy5mb3JFYWNoKChpdGVtKT0+e1xyXG4gICAgICAgIGlmIChpdGVtPT09J3RvdGFsJykge1xyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucmVmcmVzaChpdGVtKVxyXG4gICAgICB9KVxyXG4gICAgICByZXR1cm4gXHJcbiAgICB9XHJcbiAgICBsZXQgdmFsdWU9dGhpcy5jb3VudC5nZXQoY2F0ZWdvcnkpLmdldCgndmFsdWUnKVxyXG4gICAgdGhpcy5yZXN0cmljdERlY3JlbWVudChjYXRlZ29yeSx2YWx1ZSlcclxuICAgIGNvbnN0IHRleHRFbGVtZW50PXRoaXMuY291bnQuZ2V0KGNhdGVnb3J5KS5nZXQoJ3RleHRFbGVtZW50JylcclxuICAgIHRleHRFbGVtZW50LnRleHRDb250ZW50PVN0cmluZyh2YWx1ZSlcclxuICAgIGlmICh0aGlzLnN1Ym1pdCkge1xyXG4gICAgICBjb25zdCB0b3RhbD10aGlzLmNvdW50VG90dGFsKClcclxuICAgICAgdGhpcy50b3RhbD10b3RhbFxyXG4gICAgfVxyXG4gICAgfSAgXHJcbiAgY291bnRUb3R0YWwoKSB7XHJcbiAgICBsZXQgdG90YWw9MFxyXG4gICAgQXJyYXkuZnJvbSh0aGlzLmNvdW50LmtleXMoKSkuZm9yRWFjaCgoaXRlbSk9PntcclxuICAgICAgaWYgKGl0ZW09PT0ndG90YWwnKXtcclxuICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgfVxyXG4gICAgICB0b3RhbCs9TnVtYmVyKHRoaXMuY291bnQuZ2V0KGl0ZW0pLmdldCgndmFsdWUnKSlcclxuXHJcbiAgICB9KVxyXG4gICAgcmV0dXJuIHRvdGFsXHJcbiAgfVxyXG4gIHJlc3RyaWN0RGVjcmVtZW50KGNhdGVnb3J5LHZhbHVlKXtcclxuICAgIGNvbnN0IGRlY3JlbWVudD10aGlzLmNvdW50LmdldChjYXRlZ29yeSkuZ2V0KCdkZWNyZW1lbnQnKVxyXG4gICAgaWYgKHZhbHVlPT09dGhpcy5saW1pdCkge1xyXG4gICAgICBkZWNyZW1lbnQuZGlzYWJsZWQ9dHJ1ZVxyXG4gICAgICByZXR1cm4gZmFsc2VcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGRlY3JlbWVudC5kaXNhYmxlZD1mYWxzZVxyXG4gIH1cclxufX1cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsKGUpPT57XHJcbiAgY29uc3QgZHJvcGRvd25zPUFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZHJvcGRvd24tYWNjb21fX2JpZycpKVxyXG4gIGRyb3Bkb3ducy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgY29uc3QgZHJvcGRvd249bmV3IERyb3Bkb3duQWNjb20oaXRlbSwnLmRyb3Bkb3duLWFjY29tX191bCcsMClcclxuICB9KTtcclxuICAvLyBjb25zdCBkcm9wQWNjb209bmV3IERyb3Bkb3duQWNjb20oJy5kcm9wZG93bi1hY2NvbV9fYmlnJywnLmRyb3Bkb3duLWFjY29tX191bCcsMClcclxufSlcclxuXHJcbiIsInZhciBhcGkgPSByZXF1aXJlKFwiIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiKTtcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21pbmktY3NzLWV4dHJhY3QtcGx1Z2luL2Rpc3QvbG9hZGVyLmpzIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTktMiEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9yZWYtLTktMyEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tOS00IS4vZHJvcGRvd24tYWNjb20uc2Nzc1wiKTtcblxuICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuX19lc01vZHVsZSA/IGNvbnRlbnQuZGVmYXVsdCA6IGNvbnRlbnQ7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuICAgICAgICAgICAgfVxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHMgfHwge307IiwiaW1wb3J0ICcuL3Jvb21zLWZvci15b3Uuc2NzcydcclxuLy8gaW1wb3J0ICcuLi9maWx0ZXItZGF0ZS1kcm9wZG93bi9maWx0ZXItZGF0ZS1kcm9wZG93bi5qcydcclxuaW1wb3J0ICcuLi9kcm9wZG93bi1hY2NvbS9kcm9wZG93bi1hY2NvbS5qcydcclxuIiwidmFyIGFwaSA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCIpO1xuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4vZGlzdC9sb2FkZXIuanMhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tOS0yIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3JlZi0tOS0zIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS05LTQhLi9yb29tcy1mb3IteW91LnNjc3NcIik7XG5cbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50Ll9fZXNNb2R1bGUgPyBjb250ZW50LmRlZmF1bHQgOiBjb250ZW50O1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbiAgICAgICAgICAgIH1cblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSBhcGkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzIHx8IHt9OyIsImNvbnN0IGlzVmlzaWJsZSA9IGVsZW0gPT4gISFlbGVtICYmICEhKCBlbGVtLm9mZnNldFdpZHRoIHx8IGVsZW0ub2Zmc2V0SGVpZ2h0IHx8IGVsZW0uZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGggKSBcclxuXHJcbi8vK2Nsb3NlcyBhbmQgb3BlbnMgYSBwb3BlbGVtZW50IG9uIGNsaWNrIG9uIGNsaWNrZWxlbWVudFxyXG5jb25zdCBCaW5kT3V0c2lkZUNsaWNrRGV0ZWN0aW9uPShjbGlja0VsZW1lbnROYW1lLHBvcEVsZW1lbnROYW1lKT0+e1xyXG4gIGxldCBjbGlja0VsZW1lbnRcclxuICBsZXQgcG9wRWxlbWVudFxyXG4gIGlmICh0eXBlb2YgY2xpY2tFbGVtZW50TmFtZT09PSdzdHJpbmcnICkge1xyXG4gICAgIGNsaWNrRWxlbWVudD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNsaWNrRWxlbWVudE5hbWUpXHJcbiAgfSBlbHNlIGlmICh0eXBlb2YgY2xpY2tFbGVtZW50TmFtZT09PSdvYmplY3QnICkge1xyXG4gICAgIGNsaWNrRWxlbWVudD1jbGlja0VsZW1lbnROYW1lXHJcbiAgfVxyXG4gIHBvcEVsZW1lbnQ9Y2xpY2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IocG9wRWxlbWVudE5hbWUpXHJcblxyXG5cclxuICBjb25zdCBjYXQ9KGUpPT57XHJcbiAgICBjb25zdCBpc0NsaWNrSW5zaWRlID0gY2xpY2tFbGVtZW50LmNvbnRhaW5zKGUudGFyZ2V0KSB8fCBjbGlja0VsZW1lbnQucGFyZW50Tm9kZS5jb250YWlucyhlLnRhcmdldCk7XHJcbiAgICBpZiAoIWlzQ2xpY2tJbnNpZGUpIHtcclxuICAgICAgcG9wRWxlbWVudC5zdHlsZS5kaXNwbGF5PSdub25lJ1xyXG4gICAgfVxyXG4gIH1cclxuICBjbGlja0VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLChlKT0+e1xyXG4gICAgY29uc3Qga2lkc0hhdmVUYXJnZXQ9cG9wRWxlbWVudC5jb250YWlucyhlLnRhcmdldClcclxuICAgIGlmICghaXNWaXNpYmxlKHBvcEVsZW1lbnQpKSB7XHJcbiAgICAgIHBvcEVsZW1lbnQuc3R5bGUuZGlzcGxheT0nYmxvY2snXHJcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxjYXQpXHJcbiAgXHJcbiAgICB9IGVsc2UgaWYgKGlzVmlzaWJsZShwb3BFbGVtZW50ICkmJiAha2lkc0hhdmVUYXJnZXQpe1xyXG4gICAgICBwb3BFbGVtZW50LnN0eWxlLmRpc3BsYXk9J25vbmUnXHJcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxjYXQpXHJcbiAgICB9XHJcbiAgXHJcbiAgfSlcclxufVxyXG5cclxuZXhwb3J0IHtpc1Zpc2libGUsQmluZE91dHNpZGVDbGlja0RldGVjdGlvbn0iLCJpbXBvcnQgJy4uLy4uL2luY2x1ZGVzL21vZHVsZXMvcm9vbXMtZm9yLXlvdS9yb29tcy1mb3IteW91LmpzJ1xyXG5cclxuaW1wb3J0ICcuL3BhZ2UxLnNjc3MnXHJcbiIsInZhciBhcGkgPSByZXF1aXJlKFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiKTtcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21pbmktY3NzLWV4dHJhY3QtcGx1Z2luL2Rpc3QvbG9hZGVyLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTktMiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9yZWYtLTktMyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tOS00IS4vcGFnZTEuc2Nzc1wiKTtcblxuICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuX19lc01vZHVsZSA/IGNvbnRlbnQuZGVmYXVsdCA6IGNvbnRlbnQ7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuICAgICAgICAgICAgfVxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHMgfHwge307Il0sInNvdXJjZVJvb3QiOiIifQ==